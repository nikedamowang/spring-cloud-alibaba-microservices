# \u7528\u6237\u670D\u52A1\u914D\u7F6E - \u5305\u542BActuator\u5065\u5EB7\u68C0\u67E5\u589E\u5F3A
# DataID: user-service.properties
# Group: DEFAULT_GROUP
# \u8BF4\u660E: \u7528\u6237\u670D\u52A1\u7684\u5B8C\u6574\u914D\u7F6E\uFF0C\u5305\u542BActuator\u5065\u5EB7\u68C0\u67E5\u589E\u5F3A\u529F\u80FD
# \u670D\u52A1\u57FA\u7840\u914D\u7F6E
spring.application.name=user-service
server.port=9000
# \u6570\u636E\u5E93\u914D\u7F6E
spring.datasource.url=jdbc:mysql://localhost:3306/demo?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# \u8FDE\u63A5\u6C60\u914D\u7F6E
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000
# MyBatis Plus\u914D\u7F6E
mybatis-plus.mapper-locations=classpath:/mapper/*.xml
mybatis-plus.type-aliases-package=com.cloudDemo.userservice.entity
mybatis-plus.configuration.map-underscore-to-camel-case=true
mybatis-plus.configuration.cache-enabled=true
mybatis-plus.global-config.db-config.id-type=auto
# Dubbo\u914D\u7F6E
dubbo.application.name=user-service
dubbo.registry.address=N/A
dubbo.protocol.name=dubbo
dubbo.protocol.port=20881
dubbo.application.qos-enable=false
dubbo.scan.base-packages=com.cloudDemo.userservice.service.impl
# Dubbo\u63D0\u4F9B\u8005\u914D\u7F6E
dubbo.provider.timeout=5000
dubbo.provider.retries=2
dubbo.provider.threads=200
dubbo.provider.cluster=failover
dubbo.provider.loadbalance=roundrobin
# Redis\u914D\u7F6E
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0
spring.data.redis.timeout=5000ms
spring.data.redis.lettuce.pool.max-active=200
spring.data.redis.lettuce.pool.max-wait=-1ms
spring.data.redis.lettuce.pool.max-idle=10
spring.data.redis.lettuce.pool.min-idle=0
# \u7F13\u5B58\u914D\u7F6E
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=true
# Sentinel\u914D\u7F6E
spring.cloud.sentinel.transport.dashboard=localhost:8090
spring.cloud.sentinel.transport.port=8719
spring.cloud.sentinel.filter.enabled=true
spring.cloud.sentinel.eager=true
# Nacos\u914D\u7F6E
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848
spring.cloud.nacos.discovery.enabled=true
spring.cloud.nacos.discovery.instance-enabled=true
spring.cloud.nacos.discovery.service=${spring.application.name}
spring.cloud.nacos.discovery.port=${server.port}
# ===== Actuator\u5065\u5EB7\u68C0\u67E5\u589E\u5F3A\u914D\u7F6E =====
# \u57FA\u7840Actuator\u914D\u7F6E
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,configprops,beans
management.endpoints.web.base-path=/actuator
management.server.port=9001
# \u5065\u5EB7\u68C0\u67E5\u8BE6\u7EC6\u914D\u7F6E
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.health.defaults.enabled=true
# \u81EA\u5B9A\u4E49\u5065\u5EB7\u68C0\u67E5\u914D\u7F6E
management.health.db.enabled=true
management.health.redis.enabled=true
management.health.diskspace.enabled=true
management.health.ping.enabled=true
# Prometheus\u76D1\u63A7\u6307\u6807\u914D\u7F6E
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99
# \u81EA\u5B9A\u4E49\u4E1A\u52A1\u76D1\u63A7\u6307\u6807
management.metrics.tags.service=user-service
management.metrics.tags.version=1.0.0
# \u5E94\u7528\u4FE1\u606F\u914D\u7F6E
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true
# \u81EA\u5B9A\u4E49\u5E94\u7528\u4FE1\u606F
info.app.name=User Service
info.app.description=CloudDemo\u7528\u6237\u670D\u52A1\uFF0C\u63D0\u4F9B\u7528\u6237\u7BA1\u7406\u548CJWT\u8BA4\u8BC1\u529F\u80FD
info.app.version=1.0.0
info.app.encoding=UTF-8
info.app.java.version=${java.version}
# \u65E5\u5FD7\u914D\u7F6E\u4F18\u5316
logging.level.com.cloudDemo=INFO
logging.level.com.cloudDemo.userservice=INFO
logging.level.com.baomidou.mybatisplus=DEBUG
logging.level.org.apache.dubbo=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.boot.actuator=INFO
logging.pattern.console=%d{HH:mm:ss.SSS} [%X{traceId},%X{spanId}] %-5level [%thread] %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId},%X{spanId}] %-5level [%thread] %logger{50} - %msg%n
# \u94FE\u8DEF\u8FFD\u8E2A\u914D\u7F6E
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]
